/*
 The JeX JavaScript library.

 This library is free software: you can redistribute it and/or modify it
 under the terms of the GNU Lesser General Public License as published by
 the Free Software Foundation, either version 3 of the License, or (at your
 option) any later version.

 This library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public
 License for more details.

 You should have received a copy of the GNU Lesser General Public License
 along with this library. If not, see <http://www.gnu.org/licenses/>.
*/
var jex={};jex.console={};jex.console.log=function(a){jex.console.add_to_buffer_("log",arguments);jex.console.flush_buffer_()};jex.console.error=function(a){jex.console.add_to_buffer_("error",arguments);jex.console.flush_buffer_()};jex.console.debug=function(a){jex.console.add_to_buffer_("debug",arguments);jex.console.flush_buffer_()};jex.console.warn=function(a){jex.console.add_to_buffer_("warn",arguments);jex.console.flush_buffer_()};
jex.console.info=function(a){jex.console.add_to_buffer_("info",arguments);jex.console.flush_buffer_()};jex.console.time=function(a){jex.console.add_to_buffer_("time",arguments);jex.console.flush_buffer_()};jex.console.timeEnd=function(a){jex.console.add_to_buffer_("timeEnd",arguments);jex.console.flush_buffer_()};jex.console.buffer_=[];jex.console.add_to_buffer_=function(a,b){jex.console.buffer_.push({console_function:a,console_arguments:b})};
jex.console.flush_buffer_=function(){if(window.console)for(var a;a=jex.console.buffer_.shift();)jex.console.execute_(a.console_function,a.console_arguments)};jex.console.execute_=function(a,b){window.console[a]?"object"===typeof window.console[a]?Function.prototype.apply.apply(window.console[a],[window.console,b]):window.console[a].apply(window.console,b):"log"!==a&&jex.console.execute_("log",b)};jex.type=function(a,b){1===arguments.length&&(b=!1);if(null===a)return"null";if(void 0===a)return"undefined";if(!1===b){if("string"===typeof a||a instanceof String)return"string";if("number"===typeof a||a instanceof Number)return"number";if("boolean"===typeof a||a instanceof Boolean)return"boolean";if(a instanceof Array)return"array";if(a instanceof Function)return"function";if(a instanceof RegExp)return"regexp";if(a instanceof Date)return"date"}var c=Object.prototype.toString.call(a);return jex.type.map_[c]?
jex.type.map_[c]:c.match(jex.type.regexp_)[1].toLowerCase()};jex.type.regexp_=/\s([a-zA-Z]+)/;jex.type.map_={"[object Array]":"array","[object Boolean]":"boolean","[object Date]":"date","[object Function]":"function","[object Number]":"number","[object Null]":"null","[object Object]":"object","[object RegExp]":"regexp","[object String]":"string","[object Undefined]":"undefined"};jex.table=function(a){var b=a.rows||1,c=a.columns||1;this.table_=rocket.createElement("table");this.tbody_=rocket.createElement("tbody");this.trs_=[];this.tds_=[];!0===a.header&&(this.thead_=rocket.createElement("thead"),a=this.render_tr_(c,"th"),this.trs_.push(a),this.thead_.appendChild(a),this.table_.appendChild(this.thead_),b--);rocket.createElement("tbody");for(var d=0;d<b;d++)a=this.render_tr_(c,"td"),this.trs_.push(a),this.tbody_.appendChild(a);this.table_.appendChild(this.tbody_)};
jex.table.prototype.render_tr_=function(a,b){for(var c=rocket.createElement("tr"),d=[],e,f=0;f<a;f++)e=rocket.createElement(b),d.push(e),c.appendChild(e);this.tds_.push(d);return c};jex.table.prototype.fill_row=function(a,b){for(var c=0,d=b.length;c<d;c++)this.td(a,c).innerHTML(b[c])};jex.table.prototype.table=function(){return this.table_};jex.table.prototype.tbody=function(){return this.tbody_};jex.table.prototype.tr=function(a){return this.trs_[a]};jex.table.prototype.td=function(a,b){return this.tds_[a][b]};jex.debug={};jex.debug.listener={};
jex.debug.listener.render_count=function(){var a=rocket.createElement("div").style({position:"fixed",bottom:"0",right:"0",background:"#fff",padding:"4px",opacity:".8"});a.innerHTML("Listeners: "+jex.debug.listener.get_count());document.body.appendChild(a[0]);var b=rocket.EventTarget.prototype.addEventListener;rocket.EventTarget.prototype.addEventListener=function(){b.apply(this,arguments);a.innerHTML("Listeners: "+jex.debug.listener.get_count())};var c=rocket.EventTarget.prototype.removeEventListener;rocket.EventTarget.prototype.removeEventListener=
function(){c.apply(this,arguments);a.innerHTML("Listeners: "+jex.debug.listener.get_count())}};jex.debug.listener.get_count=function(){var a=0,b,c=rocket.EventTarget.getListenerTree(),d;for(d in c){b=parseInt(d,10);for(var e in c[b])for(var f in c[b][e])a+=c[b][e][f].length}return a};jex.placeholder=function(a){a&&a.class_name&&(jex.placeholder.class_name_=a.class_name)};jex.placeholder.prototype.decorated_=!1;jex.placeholder.class_name_="jex_placeholder";jex.placeholder.prototype.rocket_value_=rocket.Elements.prototype.value;
jex.placeholder.prototype.decorate=function(a){if(!1===this.decorated_&&!1===jex.placeholder.get_has_native_support_()){var b=this;this.element_=a;this.placeholder_text_=a[0].getAttribute("placeholder");this.element_.dataset("jex_placeholder","true");this.element_.value(this.element_.getAttribute("value"));this.element_.addEventListener("focus.jex_placeholder",function(){this.value===b.placeholder_text_&&rocket.$(this).setAttribute("value","").removeClass("jex_placeholder")});this.element_.addEventListener("blur.jex_placeholder",
function(){rocket.$(this).value(this.value)});this.decorated_=!0}};jex.placeholder.prototype.undecorate=function(){!1===jex.placeholder.get_has_native_support_()&&!0===this.decorated_&&(this.decorated_=!1,this.element_.dataset("jex_placeholder","false"),this.element_.removeEventListener(".jex_placeholder").removeClass("jex_placeholder"),this.element_.getAttribute("value")===this.placeholder_text_&&this.element_.setAttribute("value",""))};
jex.placeholder.get_has_native_support_=function(){if(void 0===jex.placeholder.has_native_support_){var a=document.createElement("input");jex.placeholder.has_native_support_="placeholder"in a}return jex.placeholder.has_native_support_};
rocket.Elements.prototype.value=function(a){var b=this.dataset("jex_placeholder"),b="false"===b||void 0===b;return void 0===this[0].getAttribute("placeholder")||!0===b?jex.placeholder.prototype.rocket_value_.apply(this,arguments):!0===jex.placeholder.get_has_native_support_()?jex.placeholder.prototype.rocket_value_.apply(this,arguments):jex.placeholder.value_.apply(this,arguments)};
jex.placeholder.value_=function(a){var b=this[0].getAttribute("placeholder");if(0===arguments.length){var c=this.getAttribute("value");return c===b?"":c}if(a===b||""===a)return this.addClass(jex.placeholder.class_name_),this.setAttribute("value",b);this.removeClass(jex.placeholder.class_name_);return this.setAttribute("value",a)};jex.prettyprint=function(a){this.object_=a.object;var b=a.color_scheme||"dark";this.display_line_numbers_=void 0!==a.display_line_numbers?a.display_line_numbers:!0;this.color_scheme_={};"string"===jex.type(b)?rocket.extend(this.color_scheme_,jex.prettyprint.color_schemes_[b]):rocket.extend(this.color_scheme_,b)};jex.prettyprint.indent_amount_=2;jex.prettyprint.default_text_color_="#000000";jex.prettyprint.default_background_color_="#ffffff";
jex.prettyprint.color_schemes_={dark:{background:"#272822",line_number:"#8f908a",key:"#f8f8f2",colon:"#75715e",string:"#e6db74",number:"#f92672","boolean":"#66d9ef",date:"#f92672",regexp:"#f92672","function":"#66d9ef","null":"#66d9ef",undefined:"#66d9ef",nan:"#66d9ef","default":"#f8f8f2"},light:{background:"#ffffff",line_number:"#8f908a",key:"#272822",colon:"#75715e",string:"#baab21",number:"#f92672","boolean":"#66d9ef",date:"#f92672",regexp:"#f92672","function":"#66d9ef","null":"#66d9ef",undefined:"#66d9ef",
nan:"#66d9ef","default":"#272822"}};jex.prettyprint.prototype.decorate=function(a){var b=rocket.createElement("div");b.style({padding:"5px","font-family":'Consolas, "Courier New", Courier, Monospace',background:this.color_scheme_.background||jex.prettyprint.default_background_color_});var c=rocket.createElement("table");c.setAttribute({cellpadding:"0",cellspacing:"0"});var d=rocket.createElement("tbody");this.do_prettyprint_(this.object_,d);c.appendChild(d);b.appendChild(c);a.appendChild(b)};
jex.prettyprint.prototype.do_prettyprint_=function(a,b,c,d){c=c||0;d=d||1;var e,f;if("array"===jex.type(a)||"object"===jex.type(a))for(var g in a)a.hasOwnProperty(g)&&(e=this.render_tr_(d++),f=e.lastElementChild(),b.appendChild(e),f.appendChild(this.render_key_(g,c)),f.appendChild(this.render_colon_()),"array"===jex.type(a[g])||"object"===jex.type(a[g])?d=this.do_prettyprint_(a[g],b,c+jex.prettyprint.indent_amount_,d):f.appendChild(this.render_value_(a[g])));else e=this.render_tr_(d++),f=e.lastElementChild(),
b.appendChild(e),f.appendChild(this.render_value_(a));return d};jex.prettyprint.prototype.render_tr_=function(a){var b=rocket.createElement("tr");if(!0===this.display_line_numbers_){var c=rocket.createElement("td").style({"text-align":"right"}).setAttribute({valign:"top"});c.appendChild(this.render_line_number_(a));b.appendChild(c)}a=rocket.createElement("td");b.appendChild(a);return b};
jex.prettyprint.prototype.render_line_number_=function(a){var b=rocket.createElement("span");b.innerHTML(a+"").style({"margin-right":"15px",color:this.color_scheme_.line_number||jex.prettyprint.default_text_color_});return b};jex.prettyprint.prototype.render_key_=function(a,b){var c={color:this.color_scheme_.key||jex.prettyprint.default_text_color_},d=rocket.createElement("span");d.innerHTML(rocket.padLeft("",b).replace(/ /g,"&nbsp;")+a).style(c);return d};
jex.prettyprint.prototype.render_colon_=function(){var a={color:this.color_scheme_.colon||jex.prettyprint.default_text_color_},b=rocket.createElement("span");b.innerHTML(": ").style(a);return b};
jex.prettyprint.prototype.render_value_=function(a){var b=jex.type(a);a=rocket.htmlEntities(a+"");var c={color:this.color_scheme_[b]||jex.prettyprint.default_text_color_};switch(b){case "string":a='"'+a+'"';break;case "null":a="null";c.fontStyle="italic";break;case "undefined":a="undefined";c.fontStyle="italic";break;case "nan":a="NaN",c.fontStyle="italic"}b=rocket.createElement("span");b.innerHTML(a).style(c);return b};jex.version="13.09";
