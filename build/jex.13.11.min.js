/*
 The JeX JavaScript library.

 This library is free software: you can redistribute it and/or modify it
 under the terms of the GNU Lesser General Public License as published by
 the Free Software Foundation, either version 3 of the License, or (at your
 option) any later version.

 This library is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. See the GNU Lesser General Public
 License for more details.

 You should have received a copy of the GNU Lesser General Public License
 along with this library. If not, see <http://www.gnu.org/licenses/>.
*/
var jex={};jex.console={};jex.console.log=function(a){jex.console.add_to_buffer_("log",arguments);jex.console.flush_buffer_()};jex.console.error=function(a){jex.console.add_to_buffer_("error",arguments);jex.console.flush_buffer_()};jex.console.debug=function(a){jex.console.add_to_buffer_("debug",arguments);jex.console.flush_buffer_()};jex.console.warn=function(a){jex.console.add_to_buffer_("warn",arguments);jex.console.flush_buffer_()};
jex.console.info=function(a){jex.console.add_to_buffer_("info",arguments);jex.console.flush_buffer_()};jex.console.buffer_=[];jex.console.add_to_buffer_=function(a,b){jex.console.buffer_.push({console_function:a,console_arguments:b})};jex.console.flush_buffer_=function(){if(window.console)for(var a;a=jex.console.buffer_.shift();)jex.console.execute_(a.console_function,a.console_arguments)};
jex.console.execute_=function(a,b){window.console[a]?"object"===typeof window.console[a]?Function.prototype.apply.apply(window.console[a],[window.console,b]):window.console[a].apply(window.console,b):"log"!==a&&jex.console.execute_("log",b)};jex.type=function(a){if(null===a)return"null";if(void 0===a)return"undefined";var b={}.toString.call(a).match(/\s([a-zA-Z]+)/)[1].toLowerCase();return"number"===b&&isNaN(a)?"nan":b};jex.table=function(a){var b=a.rows||1,c=a.columns||1;this.table_=rocket.createElement("table");this.tbody_=rocket.createElement("tbody");this.trs_=[];this.tds_=[];!0===a.header&&(this.thead_=rocket.createElement("thead"),a=this.render_tr_(c,"th"),this.trs_.push(a),this.thead_.appendChild(a),this.table_.appendChild(this.thead_),b--);rocket.createElement("tbody");for(var d=0;d<b;d++)a=this.render_tr_(c,"td"),this.trs_.push(a),this.tbody_.appendChild(a);this.table_.appendChild(this.tbody_)};
jex.table.prototype.render_tr_=function(a,b){for(var c=rocket.createElement("tr"),d=[],e,f=0;f<a;f++)e=rocket.createElement(b),d.push(e),c.appendChild(e);this.tds_.push(d);return c};jex.table.prototype.fill_row=function(a,b){for(var c=0,d=b.length;c<d;c++)this.td(a,c).innerHTML(b[c])};jex.table.prototype.table=function(){return this.table_};jex.table.prototype.tbody=function(){return this.tbody_};jex.table.prototype.tr=function(a){return this.trs_[a]};jex.table.prototype.td=function(a,b){return this.tds_[a][b]};jex.debug={};jex.debug.listener={};
jex.debug.listener.render_count=function(){var a=rocket.createElement("div").style({position:"fixed",bottom:"0",right:"0",background:"#fff",padding:"4px",opacity:".8"});a.innerHTML("Listeners: "+jex.debug.listener.get_count());document.body.appendChild(a[0]);var b=rocket.EventTarget.prototype.addEventListener;rocket.EventTarget.prototype.addEventListener=function(){b.apply(this,arguments);a.innerHTML("Listeners: "+jex.debug.listener.get_count())};var c=rocket.EventTarget.prototype.removeEventListener;rocket.EventTarget.prototype.removeEventListener=
function(){c.apply(this,arguments);a.innerHTML("Listeners: "+jex.debug.listener.get_count())}};jex.debug.listener.get_count=function(){var a=0,b,c=rocket.EventTarget.getListenerTree(),d;for(d in c){b=parseInt(d,10);for(var e in c[b])for(var f in c[b][e])a+=c[b][e][f].length}return a};jex.placeholder=function(a){a&&a.class_name&&(jex.placeholder.class_name_=a.class_name)};jex.placeholder.prototype.decorated_=!1;jex.placeholder.class_name_="jex_placeholder";jex.placeholder.prototype.rocket_value_=rocket.Elements.prototype.value;
jex.placeholder.prototype.decorate=function(a){if(!1===this.decorated_&&!1===jex.placeholder.get_has_native_support_()){var b=this;this.element_=a;this.placeholder_text_=a[0].getAttribute("placeholder");this.element_.dataset("jex_placeholder","true");this.element_.value(this.element_.getAttribute("value"));this.element_.addEventListener("focus.jex_placeholder",function(){this.value===b.placeholder_text_&&rocket.$(this).setAttribute("value","").removeClass("jex_placeholder")});this.element_.addEventListener("blur.jex_placeholder",
function(){rocket.$(this).value(this.value)});this.decorated_=!0}};jex.placeholder.prototype.undecorate=function(){!1===jex.placeholder.get_has_native_support_()&&!0===this.decorated_&&(this.decorated_=!1,this.element_.dataset("jex_placeholder","false"),this.element_.removeEventListener(".jex_placeholder").removeClass("jex_placeholder"),this.element_.getAttribute("value")===this.placeholder_text_&&this.element_.setAttribute("value",""))};
jex.placeholder.get_has_native_support_=function(){if(void 0===jex.placeholder.has_native_support_){var a=document.createElement("input");jex.placeholder.has_native_support_="placeholder"in a}return jex.placeholder.has_native_support_};
rocket.Elements.prototype.value=function(a){var b=this.dataset("jex_placeholder"),b="false"===b||void 0===b;return void 0===this[0].getAttribute("placeholder")||!0===b?jex.placeholder.prototype.rocket_value_.apply(this,arguments):!0===jex.placeholder.get_has_native_support_()?jex.placeholder.prototype.rocket_value_.apply(this,arguments):jex.placeholder.value_.apply(this,arguments)};
jex.placeholder.value_=function(a){var b=this[0].getAttribute("placeholder");if(0===arguments.length){var c=this.getAttribute("value");return c===b?"":c}if(a===b||""===a)return this.addClass(jex.placeholder.class_name_),this.setAttribute("value",b);this.removeClass(jex.placeholder.class_name_);return this.setAttribute("value",a)};jex.version="13.09";
